List<Profile> profileList = [SELECT Id, Name FROM Profile WHERE Name =: 'Standard User'];
Integer stdUserCount = [Select Count() from User where ProfileId =: profileList.get(0).Id];
if(stdUserCount<1){
	System.debug(profileList);
	Map<String, String> userNamesMap = new Map<String, String>{'JayaPrakashV' => 'jvunnam@gainsight.com',
												'GiribabuG' => 'ggolla@gainsight.com',
	                                            'SrividyaR' => 'srallapalli@gainsight.com',
	                                            'RajeshY' => 'ryaddanapalli@gainsight.com',
	                                            'SaiRamP' => 'spulluri@gainsight.com',
	                                            'SivaPrasadN' => 'snasika@gainsight.com',
	                                            'Lalit' => 'ldas@gainsight.com',
	                                            'Sreejith' => 'skunchu@gainsight.com',
	                                            'SunandP' => 'spadmanabhan@gainsight.com'};
	List<User> extuser= [SELECT id, isActive, Username, Lastname, Alias,
	                     ProfileId FROM User WHERE Lastname In : userNamesMap.keySet() AND Alias = 'Auto' AND
	                       ProfileId =: profileList.get(0).Id];
	List<User> newUsers = new List<User>();
	if(extuser != null && !(extuser.size() == userNamesMap.size())) {
	
	    for(String s : userNamesMap.keySet()) {
	        Integer a = (Integer) (Math.random() * 1000);
	        User sampleUser = new User();
	        sampleUser.Username= s+a+'@'+'automationUser'+a+'.com';
	        sampleUser.Email = userNamesMap.get(s);
	        sampleUser.Lastname = s;
	        sampleUser.Alias = 'Auto';
	        sampleUser.CommunityNickname = s+a;
	        sampleUser.ProfileId = profileList.get(0).Id;
	        sampleUser.TimeZoneSidKey = 'GMT';
	        sampleUser.LocaleSidKey = 'en_US';
	        sampleUser.EmailEncodingKey = 'ISO-8859-1';
	        sampleUser.LanguageLocaleKey = 'en_US';
	        sampleUser.UserPermissionsMobileUser = false;
	        sampleUser.UserPermissionsSFContentUser = false;
	        newUsers.add(sampleUser);
	        insert sampleUser;
	    }
	    system.debug(newUsers.size());
	} else {
	    System.debug('No New users Created');
	 }
}
