List<JBCXM__Playbook__c> playbookList = new List<JBCXM__Playbook__c>();
List<JBCXM__PlaybookTasks__c> playbookTaskList = new List<JBCXM__PlaybookTasks__c>();
List<String> pbNames = new List<String>{'New Customer On-boarding'};
JBCXM__Playbook__c playbook;
JBCXM__PlaybookTasks__c playbooktask;
for(String pbName : pbNames) {
    playbook = new JBCXM__Playbook__c(	Name = pbName,
    									Active__c = true,
                                      Description__c = 'This playbook need to be applied on customer on boarding.',
                                      Tasks_Count__c = 5,
                                      Type__c = 'All');
    playbookList.add(playbook);                                      
}
insert playbookList;
List<String> taskList = new List<String>{'[{"fieldName":"Assigned__c","objectName":"CSTask__c","ctrlType":"userlookup","ctrlData":[],"label":"Assigned To","fieldType":"REFERENCE","isRequired":"true","value":[]},{"fieldName":"Subject__c","objectName":"CSTask__c","ctrlType":"text","ctrlData":[],"label":"Subject","fieldType":"STRING","isRequired":"true","value":[{"key":"Kick-off call","value":"Kick-off call"}]},{"fieldName":"Date__c","objectName":"CSTask__c","ctrlType":"datecontrol","ctrlData":[],"label":"Date","fieldType":"DATE","isRequired":"false","value":[{"key":"1","value":"1"}]},{"fieldName":"Priority__c","objectName":"CSTask__c","ctrlType":"select","ctrlData":[{"key":"High","value":"High"},{"key":"Normal","value":"Normal"},{"key":"Low","value":"Low"}],"label":"p 1 - priority","fieldType":"PICKLIST","isRequired":"true","value":[{"key":"High","value":"High"}]},{"fieldName":"Status__c","objectName":"CSTask__c","ctrlType":"select","ctrlData":[{"key":"Not Started","value":"Not Started"},{"key":"In Progress","value":"In Progress"},{"key":"Completed","value":"Completed"},{"key":"Waiting on someone else","value":"Waiting on someone else"},{"key":"Deferred","value":"Deferred"}],"label":"Status","fieldType":"PICKLIST","isRequired":"true","value":[{"key":"Not Started","value":"Not Started"}]}]',
											'[{"fieldName":"Assigned__c","objectName":"CSTask__c","ctrlType":"userlookup","ctrlData":[],"label":"Assigned To","fieldType":"REFERENCE","isRequired":"true","value":[]},{"fieldName":"Subject__c","objectName":"CSTask__c","ctrlType":"text","ctrlData":[],"label":"Subject","fieldType":"STRING","isRequired":"true","value":[{"key":"Customer Training","value":"Customer Training"}]},{"fieldName":"Date__c","objectName":"CSTask__c","ctrlType":"datecontrol","ctrlData":[],"label":"Date","fieldType":"DATE","isRequired":"false","value":[{"key":"2","value":"2"}]},{"fieldName":"Priority__c","objectName":"CSTask__c","ctrlType":"select","ctrlData":[{"key":"High","value":"High"},{"key":"Normal","value":"Normal"},{"key":"Low","value":"Low"}],"label":"p 1 - priority","fieldType":"PICKLIST","isRequired":"true","value":[{"key":"Normal","value":"Normal"}]},{"fieldName":"Status__c","objectName":"CSTask__c","ctrlType":"select","ctrlData":[{"key":"Not Started","value":"Not Started"},{"key":"In Progress","value":"In Progress"},{"key":"Completed","value":"Completed"},{"key":"Waiting on someone else","value":"Waiting on someone else"},{"key":"Deferred","value":"Deferred"}],"label":"Status","fieldType":"PICKLIST","isRequired":"true","value":[{"key":"In Progress","value":"In Progress"}]}]',
											'[{"fieldName":"Assigned__c","objectName":"CSTask__c","ctrlType":"userlookup","ctrlData":[],"label":"Assigned To","fieldType":"REFERENCE","isRequired":"true","value":[]},{"fieldName":"Subject__c","objectName":"CSTask__c","ctrlType":"text","ctrlData":[],"label":"Subject","fieldType":"STRING","isRequired":"true","value":[{"key":"Go Live","value":"Go Live"}]},{"fieldName":"Date__c","objectName":"CSTask__c","ctrlType":"datecontrol","ctrlData":[],"label":"Date","fieldType":"DATE","isRequired":"false","value":[{"key":"3","value":"3"}]},{"fieldName":"Priority__c","objectName":"CSTask__c","ctrlType":"select","ctrlData":[{"key":"High","value":"High"},{"key":"Normal","value":"Normal"},{"key":"Low","value":"Low"}],"label":"p 1 - priority","fieldType":"PICKLIST","isRequired":"true","value":[{"key":"Low","value":"Low"}]},{"fieldName":"Status__c","objectName":"CSTask__c","ctrlType":"select","ctrlData":[{"key":"Not Started","value":"Not Started"},{"key":"In Progress","value":"In Progress"},{"key":"Completed","value":"Completed"},{"key":"Waiting on someone else","value":"Waiting on someone else"},{"key":"Deferred","value":"Deferred"}],"label":"Status","fieldType":"PICKLIST","isRequired":"true","value":[{"key":"Waiting on someone else","value":"Waiting on someone else"}]}]',
											'[{"fieldName":"Assigned__c","objectName":"CSTask__c","ctrlType":"userlookup","ctrlData":[],"label":"Assigned To","fieldType":"REFERENCE","isRequired":"true","value":[]},{"fieldName":"Subject__c","objectName":"CSTask__c","ctrlType":"text","ctrlData":[],"label":"Subject","fieldType":"STRING","isRequired":"true","value":[{"key":"Health check call","value":"Health check call"}]},{"fieldName":"Date__c","objectName":"CSTask__c","ctrlType":"datecontrol","ctrlData":[],"label":"Date","fieldType":"DATE","isRequired":"false","value":[{"key":"4","value":"4"}]},{"fieldName":"Priority__c","objectName":"CSTask__c","ctrlType":"select","ctrlData":[{"key":"High","value":"High"},{"key":"Normal","value":"Normal"},{"key":"Low","value":"Low"}],"label":"p 1 - priority","fieldType":"PICKLIST","isRequired":"true","value":[{"key":"Low","value":"Low"}]},{"fieldName":"Status__c","objectName":"CSTask__c","ctrlType":"select","ctrlData":[{"key":"Not Started","value":"Not Started"},{"key":"In Progress","value":"In Progress"},{"key":"Completed","value":"Completed"},{"key":"Waiting on someone else","value":"Waiting on someone else"},{"key":"Deferred","value":"Deferred"}],"label":"Status","fieldType":"PICKLIST","isRequired":"true","value":[{"key":"Waiting on someone else","value":"Waiting on someone else"}]}]',
											'[{"fieldName":"Assigned__c","objectName":"CSTask__c","ctrlType":"userlookup","ctrlData":[],"label":"Assigned To","fieldType":"REFERENCE","isRequired":"true","value":[]},{"fieldName":"Subject__c","objectName":"CSTask__c","ctrlType":"text","ctrlData":[],"label":"Subject","fieldType":"STRING","isRequired":"true","value":[{"key":"Account Review","value":"Account Review"}]},{"fieldName":"Date__c","objectName":"CSTask__c","ctrlType":"datecontrol","ctrlData":[],"label":"Date","fieldType":"DATE","isRequired":"false","value":[{"key":"5","value":"5"}]},{"fieldName":"Priority__c","objectName":"CSTask__c","ctrlType":"select","ctrlData":[{"key":"High","value":"High"},{"key":"Normal","value":"Normal"},{"key":"Low","value":"Low"}],"label":"p 1 - priority","fieldType":"PICKLIST","isRequired":"true","value":[{"key":"Low","value":"Low"}]},{"fieldName":"Status__c","objectName":"CSTask__c","ctrlType":"select","ctrlData":[{"key":"Not Started","value":"Not Started"},{"key":"In Progress","value":"In Progress"},{"key":"Completed","value":"Completed"},{"key":"Waiting on someone else","value":"Waiting on someone else"},{"key":"Deferred","value":"Deferred"}],"label":"Status","fieldType":"PICKLIST","isRequired":"true","value":[{"key":"Waiting on someone else","value":"Waiting on someone else"}]}]'};

integer i =1;
for(String taskStr : taskList) {
	playbooktask = new JBCXM__PlaybookTasks__c(DisplayOrder__c = i,
												PlaybookId__c = playbookList.get(0).Id,
												TaskJSON__c = taskStr);
	playbookTaskList.add(playbooktask);
}
insert playbookTaskList;	